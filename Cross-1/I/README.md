<center><h1>I. Красно-чёрное дерево</h1></center>
    
<p><center>Ограничение по времени на тест: <b>2 секунды</b></center></p>

<p><center>Ограничение по памяти на тест: <b>256 мегабайт</b></center></p>

<h2>Условие:</h2>

<div><p>Вам необходимо реализовать красно-чёрное дерево без удалений (с операциями вставки и поиска) и решить с его помощью следующую задачу. Необходимо поддерживать множество S со следующими операциями. </p><p>Операция $upper\_bound(i)$ возвращает минимальный элемент множества, не меньший $i$ или -1, если такого элемента нет.</p><p>Операция $insert(i)$ вставляет элемент $i$ в множестве (или ничего не делает, если $i\in S$).</p><p>Исходно множество $S$ пусто. </p></div>

<h2>Решение:</h2>

Время: $O(n\log n)$

Память: $O(n)$

[Код](solution.cpp)

Обычная реализация красно-чёрного дерева

<h2>Входные данные:</h2>

<p>На вход подаётся число запросов $n$ ($1\leq n \leq 300 000$). Следующие n строк имеют вид $?i$ и $+i$, где $i$ — число от $0$ до $10^9$. Строка $?i$ означает запрос $upper\_bound(i)$. Запрос соответствующий строке $+i$ зависит от предыдущего запроса (и его результата). Если строка $+i$ идёт после строки $+j$ или первая строка с запросом, то требуется выполнить операцию $insert(i)$. Если операция идёт после строки $?j$, ответ на которую $y$, то требуется выполнить операцию $insert(i + y \mod 10^9)$.</p>

<h2>Выходные данные:</h2>

<p>После каждого запроса $?i$ требуется вывести результат запроса.</p>

<h2>Публичные тесты:</h2>

Вход:

<pre>
6
+ 1
+ 3
+ 3
? 2
+ 1
? 4
</pre>

Выход:

<pre>
3
4
</pre>